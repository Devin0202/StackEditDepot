# InterimData.xlsx文件说明
## 版本维护
|Version|Date|Info|
|:--:|:--:|:--:|
|1.0|20180920|内部初稿|

## 简介
在人脸检测&识别方案的集成/评测过程中，使用android自动化测试框架记录状态log，获取丰富的测试结果数据，通过python解析工具自动生成xlsx文件留档
## 使用对象
算法、开发
## 文件内容
文件包含2中sheet类型caseIndex与人名sheets

caseIndex sheet
: 包含了此次测试中使用的所有测试用例的采集条件信息(距离、光照、角度等)

人名 sheet
:  单人所有测试用例的结果记录

## 人名 sheet中的列标签详解

视频片段编号
: 以 年月日时分 为命名规则，一个视频片段即为一个测试序列case，其命名与相应测试集中文件夹命名规则保持一致

视频片段总帧数
: 表示该测试集中所包含的图片总数

测试所用帧数
: 自动化测试架构中实际使用测试集中的图片数[^1]

检测有效帧数
: 具有检测结果的帧数总和

识别次(帧)数
:  请求识别的目标个数总和

有效识别次(帧)数
: 我们将{correct, error}视为识别结果[^2]有效的情况，此标签就是对{correct, error}结果的次数统计

最大单帧加载耗时(ms)
: 模拟真实使用场景时，使用测试图像替代camera流，无论从内存或是硬盘读取测试图像都会有一定的耗时，此项记录其最长耗时，单位：毫秒

平均单帧加载耗时(ms)
: 基本概念同上，以均值替之

最大单帧检测耗时(ms)
: 按字面解释
: 单位：毫秒
: 0值表示此测试序列中没有任一检测成功目标

平均单帧检测耗时(ms)
: 基本概念同上，以均值代替之

最大识别(含无效识别)耗时(ms)
: 我们将{correct, error, invalid}视为识别结果[^2] (含无效识别)的情况，此项记录 发送单次识别请求 至 识别结果返回之间的最长耗时
: 单位：毫秒
: 0值表示此测试序列中没有发生识别请求或没有任一识别请求返回

平均识别(含无效识别)耗时(ms)
: 基本概念同上，以均值代替之
: 单位：毫秒
: 0值表示此测试序列中没有发生识别请求或没有任一识别请求返回

最大解析耗时(ms)
: 此项记录 识别结果返回 至 识别结果解析完成 之间的最长耗时
: 单位：毫秒
: "NA"值表示此测试序列中没有发生解析请求或没有任一解析请求返回

平均解析耗时(ms)
: 基本概念同上，以均值代替之
: 单位：毫秒
: "NA"值表示此测试序列中没有发生解析请求或没有任一解析请求返回

主观耗时(ms)
: 此项记录 第一次检测成功 至 第一次 有效识别 结果解析完成 之间的耗时
: 单位：毫秒
: "NA"值表示此测试序列中没有发生有效识别

退出等待耗时(ms)
: 测试集图像遍历结束后，自动化测试架构会等待一段时间再退出测试，尽可能保证识别结果能够返回，此项记录等待时长
: 单位：毫秒

识别队列剩余
: 记录未发送的待识别目标个数

识别结果全返回
: 记录在测试推出后，是否存在未返回的识别请求
---
识别结果[^3]
: 分为3类
: NA-invalid表示无效的识别；"人名"-correct 表示识别正确；"人名"-error 表示识别错误

次数
: 识别结果3分类中各自的发生次数

平均分数
: 识别结果3分类中各自结果的置信程度；NA-invalid默认为-1

平均识别全程耗时(ms)
: 此项记录 识别结果3分类中各自 识别全程耗时[^4] 的均值
: 单位：毫秒

*[年月日时分]: eg: 0906171142
*[识别结果解析完成]: (UI)主线程从识别结果中提取人名信息(包含识别invalid信息)等
*[有效识别]: 我们将{correct, error}视为识别结果有效的情况

[^1]: 测试集的采集是基于30fps，在自动化测试中需要根据系统实际情况(系统算法帧率)，挑选合适的测试帧送入计算。举例来说：系统算法帧率只有10fps时，则测试集数据的选择大致上是模3取1
[^2]: 一般的，对返回的识别结果有3种解析：correct，error，invalid
[^3]: {识别结果, 次数, 平均分数, 平均识别全程耗时(ms)} 是针对一类识别结果的一组描述
[^4]: 识别全程耗时所指 产生此次识别结果的对象出现 至 该识别结果解析完成 之间的耗时
<!--stackedit_data:
eyJoaXN0b3J5IjpbLTEwNTQ3MzMwMl19
-->