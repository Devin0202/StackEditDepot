# 多人测试工具及解析结果说明
## 版本维护
|Version|Date|Info|
|:--:|:--:|:--:|
|1.0|20190306|初稿|

## 简介
在原有单人log解析工具的基础上，重制适用于多人的python3工具，自动生成xlsx文件留档

## 使用对象
算法、开发

## 多人log解析工具(AutoMulFrParse)
将android端输出的Log信息语义化
基于多人ID，追踪每条识别信息返回结果，创建数据信息xlsx，以供分析

### 参数配置
- xlsFileW: 数据输出文件xlsx
- cSrcRoot: android端输出的Log文件夹

## xlsx文件内容
Cases sheet
: 针对某一类cases的集合，比如，单人测试用 **人名** 命名sheet
双人使用 **人名X人名** 命名sheet
在此sheet中记录所有测试用例的结果

## Cases sheet中的列标签详解
视频片段编号
: 以 月日时分秒 为命名规则，一个视频片段即为一个测试序列case，其命名与相应测试集中文件夹命名规则保持一致

日志总行数
: 记录单个case日志文件的行数总计

测试所用帧数
: 自动化测试架构中实际使用测试集中的图片数[^1]

测试略过帧数
: 自动化测试架构中跳过测试集中的图片数

检测出置信目标数
: 有效检测结果的目标总数

有效识别数
: 凡是有目标信息(比如，人名，身份证)返回的识别总和

识别数
:  请求识别的目标个数总和

有效识别率
: 有效识别数 / 识别数

识别结果全返回
: 记录在测试退出后，是否存在未返回的识别请求

退出等待耗时(ms)
: 测试集图像遍历结束后，自动化测试架构会等待一段时间再退出测试，尽可能保证识别结果能够返回，此项记录等待时长
: 单位：毫秒

识别队列剩余
: 记录未发送的待识别目标个数

最大单帧加载耗时(ms)
: 模拟真实使用场景时，使用测试图像替代camera流，无论从内存或是硬盘读取测试图像都会有一定的耗时，此项记录其最长耗时
: 单位：毫秒

平均单帧加载耗时(ms)
: 基本概念同上，以均值替之

最大单帧检测耗时(ms)
: 按字面解释
: 单位：毫秒
: 0值表示此测试序列中没有任一检测成功目标

平均单帧检测耗时(ms)
: 基本概念同上，以均值代替之

最大识别(含无效识别)耗时(ms)
: 此项记录 发送单次识别请求 至 识别结果返回之间的最长耗时
: 单位：毫秒
: “NA”值表示此测试序列中没有发生识别请求或没有任一识别结果求返回

平均识别(含无效识别)耗时(ms)
: 基本概念同上，以均值代替之
: 单位：毫秒
: “NA”值表示此测试序列中没有发生识别请求或没有任一识别结果返回

最大有效识别耗时(ms)
: 此项记录 发送单次识别请求 至 有效识别结果返回之间的最长耗时
: 单位：毫秒
: “NA”值表示此测试序列中没有发生有效识别请求或没有任一有效识别结果返回

平均有效识别耗时(ms)
: 基本概念同上，以均值代替之
: 单位：毫秒
: “NA”值表示此测试序列中没有发生有效识别请求或没有任一有效识别结果返回

最大无效识别耗时(ms)
: 此项记录 发送单次识别请求 至 无效识别结果返回之间的最长耗时
: 单位：毫秒
: “NA”值表示此测试序列中没有发生无效识别请求或没有任一无效识别结果返回

平均无效识别耗时(ms)
: 基本概念同上，以均值代替之
: 单位：毫秒
: “NA”值表示此测试序列中没有发生无效识别请求或没有任一无效识别结果返回

最大解析耗时(ms)
: 记录 识别结果返回 至 识别结果解析完成 之间的最长耗时
: 单位：毫秒
: "NA"值表示此测试序列中没有发生解析请求或没有任一解析请求返回

平均解析耗时(ms)
: 基本概念同上，以均值代替之
: 单位：毫秒
: "NA"值表示此测试序列中没有发生解析请求或没有任一解析请求返回

识别帧总数
: 包含待识别目标的帧数总计

单帧识别平均耗时
: 单帧中各识别目标，其识别结果返回时间与此帧识别开始时间之差的平均值

单帧识别最大耗时
: 单帧中各识别目标，其识别结果返回时间与此帧识别开始时间之差的最大值

单帧识别最小耗时
: 单帧中各识别目标，其识别结果返回时间与此帧识别开始时间之差的最小值
---
识别结果[^2]
: 目标信息(比如，人名，身份证)

次数
: 识别结果发生次数

平均分数
: 识别结果的置信程度


*[月日时分秒]: eg: 0906171142

[^1]: 测试集的采集是基于30fps，在自动化测试中需要根据系统实际情况(系统算法帧率)，挑选合适的测试帧送入计算。举例来说：系统算法帧率只有10fps时，则测试集数据的选择大致上是模3取1
[^2]: {识别结果, 次数, 平均分数} 是针对一类识别结果的一组描述

<!--stackedit_data:
eyJoaXN0b3J5IjpbNjE1OTM2NTAxXX0=
-->